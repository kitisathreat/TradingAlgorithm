option_settings:
  aws:elasticbeanstalk:application:environment:
    FLASK_ENV: production
    PYTHONPATH: "/var/app/current:$PYTHONPATH"
  aws:elasticbeanstalk:container:python:
    WSGIPath: wsgi:application
  aws:elasticbeanstalk:environment:proxy:staticfiles:
    /static: static
  aws:autoscaling:launchconfiguration:
    InstanceType: t3.medium
    IamInstanceProfile: aws-elasticbeanstalk-ec2-role
  aws:elasticbeanstalk:environment:
    EnvironmentType: SingleInstance
  aws:elasticbeanstalk:application:environment:
    SECRET_KEY: "your-secret-key-here-change-in-production"
    LOG_LEVEL: INFO
    CORS_ORIGINS: "*"
    MODEL_SAVE_PATH: "/tmp/trading_model"
    DATA_CACHE_DIR: "/tmp/stock_data"

container_commands:
  01_install_system_dependencies:
    command: "yum install -y gcc gcc-c++ libxml2-devel libxslt-devel"
  02_install_python_dependencies:
    command: "pip install -r requirements.txt"
  03_create_directories:
    command: "mkdir -p /tmp/trading_model /tmp/stock_data logs models cache"
  04_set_permissions:
    command: "chmod 755 /tmp/trading_model /tmp/stock_data" 